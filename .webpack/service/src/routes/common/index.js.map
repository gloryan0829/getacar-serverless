{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/funcs/common/commonFunc.js","webpack:///./src/helpers/CommonHelpers.js","webpack:///./src/helpers/apiCall.js","webpack:///./src/helpers/apiList.js","webpack:///./src/routes/common/index.js","webpack:///external \"aws-sdk\"","webpack:///external \"axios\"","webpack:///external \"source-map-support/register\""],"names":["getCarBrands","dynamoDB","AWS","DynamoDB","DocumentClient","region","endpoint","accessKeyId","secretAccessKey","Promise","resolve","reject","scan","TableName","ProjectionExpression","err","data","console","log","JSON","stringify","Items","fetchVehicleModelList","brandCode","getModelList","fetchVehicleModel","carModel","getModelOne","SuccessResponseHelper","statusCode","headers","body","message","success","FailedResponseHelper","url","method","payload","options","timeout","withCredentials","responseType","axios","params","apiCall","modelCode","getBrandList","event","result","pathParameters","then","status","statusText","catch"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;;;;;;AClFA;AACA;AAEO,MAAMA,YAAY,GAAG,MAAM;AAC9B,QAAMC,QAAQ,GAAG,IAAIC,8CAAG,CAACC,QAAJ,CAAaC,cAAjB,CAAgC;AAC7CC,UAAM,EAAE,WADqC;AAE7CC,YAAQ,EAAE,uBAFmC;AAG7CC,eAAW,EAAE,oBAHgC;AAGT;AACpCC,mBAAe,EAAE,gBAJ4B,CAIX;;AAJW,GAAhC,CAAjB;AAOA,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCV,YAAQ,CAACW,IAAT,CAAc;AACVC,eAAS,EAAE,WADD;AAEVC,0BAAoB,EAAE;AAFZ,KAAd,EAGE,CAACC,GAAD,EAAMC,IAAN,KAAe;AACb,UAAID,GAAJ,EAAS;AACLE,eAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDC,IAAI,CAACC,SAAL,CAAeL,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAAtD;AACAL,eAAO,CAACK,GAAD,CAAP;AACH,OAHD,MAGO;AACHE,eAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,IAAhC;AACAN,eAAO,CAACM,IAAI,CAACK,KAAN,CAAP;AACH;AACJ,KAXD;AAYH,GAbM,CAAP;AAcH,CAtBM;AAwBA,MAAMC,qBAAqB,GAAIC,SAAD,IAAe;AAChD,SAAOC,qEAAY,CAACD,SAAD,CAAnB;AACH,CAFM;AAIA,MAAME,iBAAiB,GAAIC,QAAD,IAAc;AAC3C,SAAOC,oEAAW,CAACD,QAAD,CAAlB;AACH,CAFM,C;;;;;;;;;;;;;;;;;;AC/BA,MAAME,qBAAqB,GAAIZ,IAAD,IAAU;AAC3C,SAAO;AACHa,cAAU,EAAE,GADT;AAEHC,WAAO,EAAE;AACL,yBAAmB,wBADd;AAEL,qCAA+B;AAF1B,KAFN;AAMHC,QAAI,EAAEZ,IAAI,CAACC,SAAL,CAAe;AAAEY,aAAO,EAAE,IAAX;AAAiBC,aAAO,EAAE,IAA1B;AAAgCjB;AAAhC,KAAf;AANH,GAAP;AAQH,CATM;AAWA,MAAMkB,oBAAoB,GAAInB,GAAD,IAAS;AACzC,SAAO;AACHc,cAAU,EAAE,GADT;AAEHC,WAAO,EAAE;AACL,yBAAmB,wBADd;AAEL,qCAA+B;AAF1B,KAFN;AAMHC,QAAI,EAAEZ,IAAI,CAACC,SAAL,CAAe;AAAEY,aAAO,EAAE,IAAX;AAAiBC,aAAO,EAAE,KAA1B;AAAiCjB,UAAI,EAAED;AAAvC,KAAf;AANH,GAAP;AAQH,CATM,C;;;;;;;;;;;;;;;;;;ACXP;AAEe,gEAACoB,GAAD,EAAMC,MAAM,GAAG,KAAf,EAAsBC,OAAO,GAAG,EAAhC,EAAoCC,OAApC,KAAgD;AAC3D,QAAM;AAAEC,WAAF;AAAWC,mBAAX;AAA4BC;AAA5B,MAA6CH,OAAO,IAAI,EAA9D;AACA,SAAOI,4CAAK,CAAC;AACTP,OADS;AAETC,UAFS;AAGTpB,QAAI,EAAEoB,MAAM,KAAK,MAAX,IAAqBC,OAHlB;AAITM,UAAM,EAAEP,MAAM,KAAK,KAAX,IAAoBC,OAJnB;AAKTE,WAAO,EAAEA,OAAO,IAAI,KALX;AAKkB;AAC3BC,mBAAe,EAAEA,eAAe,IAAI,IAN3B;AAMiC;AAC1CC,gBAAY,EAAEA,YAAY,IAAI,MAPrB;AAO6B;AACtCX,WAAO,EAAE;AACL,qCAA+B,GAD1B;AAEL,sBAAgB;AAFX;AARA,GAAD,CAAZ;AAaH,CAfD,E;;;;;;;;;;;;;;;;;;;ACFA;AAEO,MAAMN,YAAY,GAAID,SAAD,IAAe;AACvC,SAAOqB,wDAAO,CAAE,+MAA8MrB,SAAU,WAA1N,CAAd;AACH,CAFM;AAIA,MAAMI,WAAW,GAAIkB,SAAD,IAAe;AACtC,SAAOD,wDAAO,CAAE,2CAA0CC,SAAU,OAAtD,CAAd;AACH,CAFM,C;;;;;;;;;;;;ACNP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAa;;;AAEb;AACA;AAEA;;;;AAGO,MAAMC,YAAY,GAAG,MAAMC,KAAN,IAAe;AACvC,QAAMC,MAAM,GAAG,MAAMhD,6EAAY,EAAjC;AACAiB,SAAO,CAACC,GAAR,CAAY8B,MAAZ;AACA,SAAOpB,oFAAqB,CAAC,CAAC,GAAGoB,MAAJ,CAAD,CAA5B;AACH,CAJM;AAMP;;;;AAGO,MAAMxB,YAAY,GAAGuB,KAAK,IAAI;AACjC,QAAM;AAAExB;AAAF,MAAgBwB,KAAK,CAACE,cAA5B;AACA,SAAO3B,sFAAqB,CAACC,SAAD,CAArB,CACF2B,IADE,CACG,CAAC;AAAEC,UAAF;AAAUC,cAAV;AAAsBpC,QAAI,EAAE;AAAEA;AAAF;AAA5B,GAAD,KAA4CmC,MAAM,KAAK,GAAX,GAAiBvB,oFAAqB,CAACZ,IAAD,CAAtC,GAA+CY,oFAAqB,CAAC,EAAD,CADnH,EAEFyB,KAFE,CAEItC,GAAG,IAAImB,mFAAoB,CAACnB,GAAD,CAF/B,CAAP;AAGH,CALM;AAOP;;;;AAGO,MAAMY,WAAW,GAAGoB,KAAK,IAAI;AAChC,QAAM;AAAErB;AAAF,MAAeqB,KAAK,CAACE,cAA3B;AACA,SAAOxB,kFAAiB,CAACC,QAAD,CAAjB,CACFwB,IADE,CACG,CAAC;AAAEC,UAAF;AAAUC,cAAV;AAAsBpC;AAAtB,GAAD,KAAkCmC,MAAM,KAAK,GAAX,GAAiBvB,oFAAqB,CAACZ,IAAD,CAAtC,GAA+CY,oFAAqB,CAAC,EAAD,CADzG,EAEFyB,KAFE,CAEItC,GAAG,IAAImB,mFAAoB,CAACnB,GAAD,CAF/B,CAAP;AAGH,CALM,C;;;;;;;;;;;AC3BP,oC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,wD","file":"src/routes/common/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/routes/common/index.js\");\n","import AWS from 'aws-sdk';\nimport { getModelList, getModelOne } from '../../helpers/apiList';\n\nexport const getCarBrands = () => {\n    const dynamoDB = new AWS.DynamoDB.DocumentClient({\n        region: 'localhost',\n        endpoint: 'http://localhost:8000',\n        accessKeyId: 'DEFAULT_ACCESS_KEY',  // needed if you don't have aws credentials at all in env\n        secretAccessKey: 'DEFAULT_SECRET' // needed if you don't have aws credentials at all in env\n    })\n\n    return new Promise((resolve, reject) => {\n        dynamoDB.scan({\n            TableName: 'carBrands',\n            ProjectionExpression: \"id, brandCode, brandName, brandLogo\"\n        },(err, data) => {\n            if (err) {\n                console.log('Scan failed to load data. Error JSON: ', JSON.stringify(err, null, 2));\n                resolve(err);\n            } else {\n                console.log(\"Scan succeeded. \", data);\n                resolve(data.Items);\n            }\n        });\n    })\n};\n\nexport const fetchVehicleModelList = (brandCode) => {\n    return getModelList(brandCode);\n}\n\nexport const fetchVehicleModel = (carModel) => {\n    return getModelOne(carModel);\n}\n\n","export const SuccessResponseHelper = (data) => {\n    return {\n        statusCode: 200,\n        headers: {\n            'x-custom-header': 'my custom header value',\n            'Access-Control-Allow-Origin': '*',\n        },\n        body: JSON.stringify({ message: '성공', success: true, data }),\n    };\n};\n\nexport const FailedResponseHelper = (err) => {\n    return {\n        statusCode: 200,\n        headers: {\n            'x-custom-header': 'my custom header value',\n            'Access-Control-Allow-Origin': '*',\n        },\n        body: JSON.stringify({ message: '실패', success: false, data: err }),\n    };\n}","import axios from 'axios';\n\nexport default (url, method = 'get', payload = {}, options) => {\n    const { timeout, withCredentials, responseType } = options || {};\n    return axios({\n        url,\n        method,\n        data: method === 'post' && payload,\n        params: method === 'get' && payload,\n        timeout: timeout || 60000, // 60초 timeout\n        withCredentials: withCredentials || true, // CORS 관련 설정\n        responseType: responseType || 'json', // response Type default : JSON,\n        headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Content-Type': 'application/json',\n        },\n    });\n};\n","import apiCall from './apiCall';\n\nexport const getModelList = (brandCode) => {\n    return apiCall(`https://media.daum.net/proxy/api/mc2/v2/clusters.json?pageSize=100&page=1&sortField=etcInfo.latestReleaseDate&sortValue=desc&service=auto&type=models&filterKey=etcInfo.brand,etcInfo.salesStatus&filterVal=${brandCode},IN__S__N`);\n}\n\nexport const getModelOne = (modelCode) => {\n    return apiCall(`https://auto.daum.net/api/newcar/models/${modelCode}.json`)\n}","'use strict';\n\nimport { fetchVehicleModel, fetchVehicleModelList, getCarBrands } from '../../funcs/common/commonFunc';\nimport { FailedResponseHelper, SuccessResponseHelper } from '../../helpers/CommonHelpers';\n\n/**\n * @description 브랜드 리스트\n */\nexport const getBrandList = async event => {\n    const result = await getCarBrands();\n    console.log(result);\n    return SuccessResponseHelper([...result]);\n};\n\n/**\n * @description 자동차 브랜드 별 모델리스트 저장하기\n */\nexport const getModelList = event => {\n    const { brandCode } = event.pathParameters;\n    return fetchVehicleModelList(brandCode)\n        .then(({ status, statusText, data: { data } }) => status === 200 ? SuccessResponseHelper(data) : SuccessResponseHelper({ }))\n        .catch(err => FailedResponseHelper(err))\n}\n\n/**\n * @description 자동자 모델 가져 오기\n */\nexport const getModelOne = event => {\n    const { carModel } = event.pathParameters;\n    return fetchVehicleModel(carModel)\n        .then(({ status, statusText, data }) => status === 200 ? SuccessResponseHelper(data) : SuccessResponseHelper({ }))\n        .catch(err => FailedResponseHelper(err))\n}\n","module.exports = require(\"aws-sdk\");","module.exports = require(\"axios\");","module.exports = require(\"source-map-support/register\");"],"sourceRoot":""}